<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Rutas</title>
	<link rel="stylesheet" type="text/css" href="C:\Users\Propietario\Documents\GitHub\Web\mapa.css" />
  </head>
  <body>
    <div id="map"></div>
	<input type="text" id="mode" value="WALKING">
    <script>
		function initMap() {
			var directionsService = new google.maps.DirectionsService;
			var directionsDisplay = new google.maps.DirectionsRenderer;
			var map = new google.maps.Map(document.getElementById('map'), {
				zoom: 6,
				center: {lat: 43.2919385, lng: -1.9867600999}
			});
			directionsDisplay.setMap(map);

			calculateAndDisplayRoute(directionsService, directionsDisplay);
			document.getElementById('mode').addEventListener('change', function() {
			calculateAndDisplayRoute(directionsService, directionsDisplay);
			});
			}

		function calculateAndDisplayRoute(directionsService, directionsDisplay) {
			var first = new google.maps.LatLng(43.29295,-1.97122);
			var second = new google.maps.LatLng(43.285957,-1.985465);

			directionsService.route({
				origin: {lat: 43.2919385, lng: -1.9867600999}, 
					destination: {lat: 43.28735, lng: -1.98558},  
				waypoints: [{location: first, stopover: false},
									{location: second, stopover: false}],
				optimizeWaypoints: true,
				travelMode: 'WALKING'
			}, function(response, status) {
				if (status === 'OK') {
				  directionsDisplay.setDirections(response);
				} else {
				  window.alert('Directions request failed due to ' + status);
				}
			});
			}
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmJDUo5aUSwLoo-ooAKo3PO6-rHpKSFn0&callback=initMap">
    </script>
  </body>
</html>